version: 2

sources:
  - name: staging
    database: crypto-reality-382409
    schema: crypto_all

    tables:
      - name: CoinGecko_data

models:
    - name: stg_CoinGecko
      description: >
        Basic cryptocurrency data collected from the CoinGecko platform, about eight main cryptocurrencies:
        bitcoin, ethereum, ethereum-classic, solana, tether, dogecoin, litecoin, polkadot.
      columns:
          - name: record_id
            description: Primary key for this table, generated with a concatenation of coin_name+date.
            tests:
                - unique:
                    severity: warn
                - not_null:
                    severity: warn
          - name: coin_name 
            description: Name of the cryptocurrency.
          - name: coin_code
            description: The official cryptocurrency code.
          - name: date 
            description: The date and time when the data about cryptocurrency was collected.
          - name: price 
            description: The price of the cryptocurrency expressed in USD.
          - name: total_volume
            description: The volume of transactions on the given day expressed in USD.
          - name: market_cap
            description: Total value of all the coins that have been mined.
          - name: coins_traded
            description: This is approximation of the amount of coins bought/sold at given day.
                         This value was generated by dividing total_volume by the coin price.
          - name: coins_mined
            description: This is approximation of the amount of coins in the circulation at given day.
                         This value was generated by dividing market_cap by the coin price.
